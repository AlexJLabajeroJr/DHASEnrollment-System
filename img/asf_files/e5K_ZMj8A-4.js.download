;/*FB_PKG_DELIM*/

__d("CometEmojiDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9631741163518259"}),null);
__d("CometEmojiDataSourceQuery.facebook.graphql",["CometEmojiDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],c=[{kind:"Variable",name:"category_ids",variableName:"ids"}],d=[{alias:null,args:null,concreteType:"EmojiCategory",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Emoji",kind:"LinkedField",name:"emojis_in_category",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"codepoint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometEmojiDataSourceQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoriesConnection",kind:"LinkedField",name:"emoji_categories",plural:!1,selections:[{kind:"Stream",selections:d}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometEmojiDataSourceQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoriesConnection",kind:"LinkedField",name:"emoji_categories",plural:!1,selections:[{"if":null,kind:"Stream",label:"CometEmojiDataSourceQuery$stream$nodes",selections:d}],storageKey:null}]},params:{id:b("CometEmojiDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometEmojiDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometEmojiDataSourceQuery.graphql",["cr:10825"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:10825")}),null);
__d("CometEmojiPickerSearchResults_emojiQuery.facebook.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"searchQuery"}],kind:"Fragment",metadata:null,name:"CometEmojiPickerSearchResults_emojiQuery",selections:[{alias:null,args:[{kind:"Variable",name:"keyword",variableName:"searchQuery"}],concreteType:"EmojiSearchResponse",kind:"LinkedField",name:"emoji_search_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"responses",storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometEmojiPickerSearchResults_emojiQuery.graphql",["cr:11766"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:11766")}),null);
__d("useCometCategoriesLocalizedNameQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5047649562000838"}),null);
__d("useCometCategoriesLocalizedNameQuery.facebook.graphql",["useCometCategoriesLocalizedNameQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"list_id"}],c=[{kind:"Variable",name:"id",variableName:"list_id"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"EmojiCategoryListEmojiCategoriesConnection",kind:"LinkedField",name:"emoji_categories",plural:!1,selections:[{alias:null,args:null,concreteType:"EmojiCategory",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometCategoriesLocalizedNameQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoryList",kind:"LinkedField",name:"emoji_category_list_node",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometCategoriesLocalizedNameQuery",selections:[{alias:null,args:c,concreteType:"EmojiCategoryList",kind:"LinkedField",name:"emoji_category_list_node",plural:!1,selections:[e,d],storageKey:null}]},params:{id:b("useCometCategoriesLocalizedNameQuery_facebookRelayOperation"),metadata:{},name:"useCometCategoriesLocalizedNameQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometCategoriesLocalizedNameQuery.graphql",["cr:11559"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:11559")}),null);
__d("EmojiUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.reduce(function(a,b){b=String.fromCodePoint(b);var c=a&&a[a.length-1];return c&&c.includes(b)?a:[].concat(a,[b])},[])}f.toStringCodepoints=a}),66);
__d("CometEmojiButton.react",["CometEmoji.react","CometPressable.react","EmojiUtils","clearTimeout","react","setTimeout","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef,m=1e3;function a(a,b){var e=a.codepoints,f=a.decreaseOpacity;f=f===void 0?!1:f;var g=a.label,n=a.onClick,o=a.onLongPress,p=a.selected,q=a.size;q=q===void 0?30:q;a=a.testid;var r=l(null);a=c("useMergeRefs")(r,b);var s=l(null);j(function(){return function(){s.current!=null&&c("clearTimeout")(s.current)}},[]);var t=l(o==null?null:function(){return o(e,r)});j(function(){t.current=o==null?null:function(){return o(e,r)};return function(){t.current=null}},[r,e,o]);var u=i(function(){t.current!=null&&t.current(),s.current=null},[]);b=i(function(){s.current!=null&&c("clearTimeout")(s.current),s.current=c("setTimeout")(u,m)},[u]);var v=i(function(){s.current!=null?(c("clearTimeout")(s.current),s.current=null,n!=null&&n(e)):t.current==null&&n!=null&&n(e)},[e,n]),w=i(function(a){a.nativeEvent instanceof KeyboardEvent&&n!=null&&n(e)},[e,n]),x=k(function(){return d("EmojiUtils").toStringCodepoints(e)},[e]);return h.jsx(c("CometPressable.react"),{label:g,onPress:w,onPressIn:b,onPressOut:v,overlayRadius:9,ref:a,testid:void 0,children:h.jsx("div",{className:"xojvqvm xyqdw3p x2b8uid x14qfxbe"+((f===!0?" xuzhngd":""+(p===!0?"":""))+(p===!0?" x1vtvx1t x1lq0und x904243 xunswzr x1hba98":"")),children:h.jsx(c("CometEmoji.react"),{emoji:x,size:q})})})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("CometEmojiCategories",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=[{icon:d("fbicon")._(h("642536"),16),id:"1795127124089732"},{icon:d("fbicon")._(h("727145"),16),id:"1117693864983467"},{icon:d("fbicon")._(h("607950"),16),id:"337864463246293"},{icon:d("fbicon")._(h("585295"),16),id:"1251900681534964"},{icon:d("fbicon")._(h("1210827"),16),id:"189719128099581"},{icon:d("fbicon")._(h("492706"),16),id:"629625430553130"},{icon:d("fbicon")._(h("478990"),16),id:"1642676819358192"},{icon:d("fbicon")._(h("652652"),16),id:"1068040353319407"}];g.ORDERED_CATEGORIES=a}),98);
__d("CometEmojiCategoryIcon.react",["TetraIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.active,d=a.category,e=a.icon,f=a.name,g=a.onClick;a=b?"blueLink":"secondary";b=function(){return g(d)};return h.jsx("div",{className:"x6s0dn4 x78zum5 x1l1ennw xod5an3 x1emribx x1i64zmx x14vqqas",children:h.jsx(c("TetraIcon.react"),{"aria-label":f,color:a,icon:e,onPress:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometCategoriesLocalizedName",["CometRelay","react","useCometCategoriesLocalizedNameQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo,j="314195178973439";function a(){var a={list_id:j},c=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("useCometCategoriesLocalizedNameQuery.graphql"),a),e=i(function(){var a;return(a=(a=c.emoji_category_list_node)==null?void 0:(a=a.emoji_categories)==null?void 0:a.nodes)!=null?a:[]},[(a=c.emoji_category_list_node)==null?void 0:(a=a.emoji_categories)==null?void 0:a.nodes]);return i(function(){var a={};for(var b=e,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;var g=f.id;f=f.localized_name;if(g==null||f==null)continue;a[g]=f}return a},[e])}g["default"]=a}),98);
__d("CometEmojiCategorySelector.react",["CometEmojiCategories","CometEmojiCategoryIcon.react","react","useCometCategoriesLocalizedName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.activeCategory,e=a.onSelect,f=c("useCometCategoriesLocalizedName")();return h.jsx("div",{className:"x1qjc9v5 x1jx94hy x8cjs6t x13fuv20 x178xt8z x78zum5 x1q0g3np xl56j7k x1ba4aug",children:d("CometEmojiCategories").ORDERED_CATEGORIES.map(function(a){var d=a.icon;a=a.id;var g=f[a],i=b===a;return h.jsx(c("CometEmojiCategoryIcon.react"),{active:i,category:a,icon:d,name:g,onClick:e},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEmojiGrid.react",["CometEmojiButton.react","CometFocusTable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=a.columns,f=a.emojiCollection,g=a.emojiSize,i=a.emojiSpacing,j=a.hidden,k=a.label,l=a.onClick,m=a.onLongPress,n=a.selectedEmoji,o=a.testid;if(f.length===0)return null;var p={marginLeft:2,marginRight:2};i!=null&&(p.marginLeft=i,p.marginRight=i);a=[];i=Math.ceil(f.length/e);if(j!==!0)for(var q=0;q<i;q++){var r=[];j=function(a){var i=q*e+a,j=f[i];if(j!=null){var k;k=((k=o)!=null?k:"CometEmojiButton-")+j.id;r[a]=h.jsx("div",{className:"x1rg5ohu xc9qbxq xr9ek0c x14qfxbe",role:"gridcell",style:p,children:h.jsx(d("CometFocusTable.react").CometFocusCell,{children:h.jsx(c("CometEmojiButton.react"),{codepoints:j.codepoints,onClick:function(a){return l&&l(a,i)},onLongPress:function(a,b){return m&&m(a,i,b)},ref:q===0&&a===0?b:void 0,selected:n!=null&&String.fromCodePoint.apply(null,j.codepoints)===n,size:g,testid:void 0})})},j.id)}};for(var s=0;s<e;s++)j(s);a[q]=h.jsx("div",{className:"x1vqgdyp",role:"row",children:h.jsx(d("CometFocusTable.react").CometFocusRow,{children:r})},q)}j=i*40;return k!=null?h.jsxs("div",{"aria-label":k,"data-testid":void 0,role:"rowgroup",children:[h.jsx("div",{"aria-hidden":!0,className:"xi81zsa x1nxh6w3 x12nagc x1mnrxsn x1xmf6yo",children:k}),h.jsx("div",{style:{minHeight:j},children:a})]}):h.jsx("div",{"data-testid":void 0,children:h.jsx("div",{style:{minHeight:j},children:a})})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(h.forwardRef(a));g["default"]=b}),98);
__d("CometEmojiGridLoading.react",["CometGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={grid:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x1nhvcw1",$$css:!0},item:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xc9qbxq",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",width:"x14qfxbe",$$css:!0},label:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"x1v9usgg",marginBottom:"x12nagc",marginStart:"x12mruv9",marginTop:"x1gslohp",width:"x1exxlbk",$$css:!0}};function a(a){a=(a=a.count)!=null?a:20;var b=[];for(var d=0;d<a;d++)b.push(h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.item},d));return h.jsxs(h.Fragment,{children:[h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.label}),h.jsx("div",{className:"x78zum5 x1a02dak x1nhvcw1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEmojiVariants.react",["CometEmojiButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.anchorX,d=a.anchorY,e=a.emojiSize,f=a.onSelect;a=a.variants;b=babelHelpers["extends"]({},b,{top:d});return h.jsx("div",{className:"x1jx94hy x1rg5ohu x10l6tqk",style:b,children:a.map(function(a,b){return h.jsx("div",{className:"x1rg5ohu xr9ek0c xfs2ol5 xjpr12u x12mruv9",children:h.jsx(c("CometEmojiButton.react"),{codepoints:a,onClick:f,size:e})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometEmojiPickerReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;switch(b.type){case"set-category":return babelHelpers["extends"]({},a,{category:b.category});case"mark-visible":return babelHelpers["extends"]({},a,{visibleCategories:babelHelpers["extends"]({},a.visibleCategories,(c={},c[b.category]=!0,c))});case"show-variant-overlay":return babelHelpers["extends"]({},a,{overlay:{categoryIdx:b.categoryIdx,emojiIdx:b.emojiIdx,variants:b.variants,x:b.anchorX,y:b.anchorY}});case"hide-variant-overlay":return babelHelpers["extends"]({},a,{overlay:null});default:return a}}f["default"]=a}),66);
__d("scrollElementToPosition",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=document.documentElement;d=d!=null&&"scrollBehavior"in(d==null?void 0:d.style);if(d){a.scrollTo({behavior:"smooth",left:b,top:c});return}if(a.scrollTo!=null){a.scrollTo(b,c);return}a.scrollLeft=b;a.scrollTop=c}f["default"]=a}),66);
__d("CometEmojiDataSource",["CometEmojiDataSourceQuery.graphql","RelayHooks"],(function(a,b,c,d,e,f,g){"use strict";var h,i={};function a(a,c,e,f){var g={},j=[],k=!1;for(var c=c,l=Array.isArray(c),m=0,c=l?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=c.length)break;n=c[m++]}else{m=c.next();if(m.done)break;n=m.value}n=n;n in i?(k=!0,g[n]=i[n]):(g[n]=null,j.push(n))}n={unsubscribe:function(){}};j.length>0&&(n=d("RelayHooks").fetchQuery(a,h!==void 0?h:h=b("CometEmojiDataSourceQuery.graphql"),{ids:j}).subscribe({complete:function(){f()},next:function(a){a=(a=(a=a.emoji_categories)==null?void 0:a.nodes)!=null?a:[];for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var f=d.emojis_in_category,h=d.id;d=d.localized_name;if(h==null)continue;f=f.map(function(a){a=a.codepoint;return{codepoints:a,id:a.join("_")}});f={emojis:f,id:h,localizedName:d};h in i||(i[h]=f);g[h]||(g[h]=i[h])}e(babelHelpers["extends"]({},g))}}));k&&e(g);j.length<1&&f();return n}g.fetchCategoryData=a}),98);
__d("useCometEmojiData",["CometEmojiDataSource","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){var b=j(function(){var b={},c=[];for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.push(g.id);b[g.id]=null}return[b,c]},[a]),c=b[0],e=b[1];b=k(c);c=b[0];var f=b[1],g=h(function(a){f(a)},[f]),l=d("CometRelay").useRelayEnvironment();i(function(){var a=d("CometEmojiDataSource").fetchCategoryData(l,e,g,function(){});return function(){a.unsubscribe()}},[e,l,g]);return c}g["default"]=a}),98);
__d("CometEmojiPicker.react",["fbt","CometEmojiCategories","CometEmojiCategorySelector.react","CometEmojiGrid.react","CometEmojiGridLoading.react","CometEmojiVariants.react","CometFocusTable.react","CometPlaceholder.react","CometScrollableArea.react","FBEmojiUtils","KeyCommandHandler.react","cometEmojiPickerReducer","focusScopeQueries","react","scrollElementToPosition","stylex","useCometEmojiData","useThrottled"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useReducer,m=b.useRef,n={container:{marginEnd:"xfs2ol5",marginStart:"x12mruv9",$$css:!0},emoji:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},overlayMask:{backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},picker:{alignItems:"x1qjc9v5",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x1nhvcw1",$$css:!0},scroll:{maxHeight:"xmz0i5r",$$css:!0}},o={category:d("CometEmojiCategories").ORDERED_CATEGORIES[0].id,overlay:null,visibleCategories:(e={},e[d("CometEmojiCategories").ORDERED_CATEGORIES[0].id]=!0,e)},p=function(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.stopPropagation()};function q(a){var b=m(!1);return function(){b.current||(a(),b.current=!0)}}function a(a){var b=a.gridColumns,e=a.height,f=a.onSelect,g=a.selectedEmoji,r=a.topSection,s=a.xstyle,t=a.categorySelector;t=t===void 0?c("CometEmojiCategorySelector.react"):t;var u=a.testid,v=a.emojiSpacing,w=a.emojiSize;u=l(c("cometEmojiPickerReducer"),o);var x=u[0],y=u[1],z=k(function(){var a={};for(var b=d("CometEmojiCategories").ORDERED_CATEGORIES,c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f=f.id;a[f]={firstItem:i.createRef(),sectionContainer:i.createRef()}}return a},[]),A=c("useCometEmojiData")(d("CometEmojiCategories").ORDERED_CATEGORIES),B=m(null);a=j(function(a){var b,d,e;b=(b=z[a])==null?void 0:b.sectionContainer.current;d=(d=z[a])==null?void 0:d.firstItem.current;e=(e=B.current)==null?void 0:e.getDOMNode();(b!=null||d!=null)&&e!=null&&(d!=null&&d.focus(),c("scrollElementToPosition")(e,0,(b||d).offsetTop));y({category:a,type:"set-category"})},[y,z]);var C=q(function(){for(var a=d("CometEmojiCategories").ORDERED_CATEGORIES,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;y({category:e.id,type:"mark-visible"})}});u=j(function(){var a,b=null,c=Infinity;a=(a=(a=B.current)==null?void 0:(a=a.getDOMNode())==null?void 0:a.scrollTop)!=null?a:0;var d=e/2;for(var f in z){var g;g=(g=z[f])==null?void 0:g.sectionContainer.current;if(g==null)continue;g=(g=g.offsetTop)!=null?g:Infinity;(b==null||g-a<d&&g>c)&&(b=f,c=g)}b!=null&&x.category!==b&&y({category:b,type:"set-category"});C()},[e,C,z,x.category]);u=c("useThrottled")(u);var D=(b=b)!=null?b:8,E=j(function(a,b,c,e){e=e.current;if(e==null)return;var g=[a].concat(d("FBEmojiUtils").getSupportedModifierSequences(a));if(g.length>1){var h,i;h=Math.max((h=w)!=null?h:36,36)+4;i=(i=B.current)==null?void 0:i.getDOMNode();if(i!=null){var j=-2,k=-1*h;e=e;while(e!=null&&e!==i)j+=e instanceof HTMLElement?e.offsetLeft:0,k+=e instanceof HTMLElement?e.offsetTop:0,e=e instanceof HTMLElement?e.offsetParent:null;e=g.length*h;i=j+e>D*h?{right:0}:{left:j};y({anchorX:i,anchorY:k,categoryIdx:b,emojiIdx:c,type:"show-variant-overlay",variants:g})}}else f(a,b,c)},[D,y,w,f,B]);b=k(function(){return d("CometEmojiCategories").ORDERED_CATEGORIES.map(function(a,b){a=a.id;if(A[a]!=null){var d=A[a],e=d.emojis;d=d.localizedName;return i.jsx("div",{ref:z[a].sectionContainer,children:i.jsx(c("CometEmojiGrid.react"),{columns:D,emojiCollection:e,emojiSize:w,emojiSpacing:v,hidden:x.visibleCategories[a]!==!0,label:(e=d)!=null?e:"",onClick:function(a,c){return f(a,b,c)},onLongPress:function(a,c,d){return E(a,b,c,d)},ref:z[a].firstItem,selectedEmoji:g},a)},a)}return i.jsx("div",{ref:z[a].sectionContainer,children:i.jsx(c("CometEmojiGridLoading.react"),{},a)},a)})},[A,g,D,w,v,E,f,z,x.visibleCategories]);var F=j(function(){y({type:"hide-variant-overlay"})},[y]),G=j(function(a,b,c){y({type:"hide-variant-overlay"}),f(a,b,c)},[y,f]),H=x.overlay;F=H==null?null:i.jsx("div",{className:"x1h0vfkc x1ey2m1c x9f619 xds687c x10l6tqk x17qophe x13vifvy",onClick:F,children:i.jsx(c("CometEmojiVariants.react"),{anchorX:H.x,anchorY:H.y,emojiSize:w,onSelect:function(a){return G(a,H.categoryIdx,H.emojiIdx)},variants:H.variants})});var I=x.category;return i.jsxs("div",{className:"x1qjc9v5 x78zum5 xdt5ytf x1nhvcw1","data-testid":void 0,style:{height:e},children:[i.jsx("div",{className:c("stylex")(n.emoji,s),children:i.jsx(c("CometScrollableArea.react"),{horizontal:!1,onScroll:u,ref:B,xstyle:n.scroll,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:p,children:i.jsx(d("CometFocusTable.react").CometFocusTable,{allowModifiers:!0,label:h._("__JHASH__4k1KIwNq8iH__JHASH__"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,children:i.jsxs("div",{className:"xfs2ol5 x12mruv9",children:[r,b,F]})})})})}),i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{}),children:i.createElement(t,{activeCategory:I,onSelect:a})})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("CometEmojiPickerSearchResults.react",["CometEmojiGrid.react","CometEmojiPicker.react","CometEmojiPickerSearchResults_emojiQuery.graphql","CometRelay","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={emojiContainer:{paddingStart:"xurb0ha",paddingTop:"x123j3cw",$$css:!0}},k=h!==void 0?h:h=b("CometEmojiPickerSearchResults_emojiQuery.graphql");function a(a){var b=a.categorySelector,e=a.emojiSize,f=a.emojiSpacing,g=a.gridColumns,h=a.height,l=a.onSelect,m=a.query,n=a.searchQuery,o=a.selected,p=a.topSection;a=a.xstyle;m=d("CometRelay").useFragment(k,m);if(n===""){return i.jsx(c("CometEmojiPicker.react"),{categorySelector:b,emojiSize:e,emojiSpacing:f,gridColumns:(n=g)!=null?n:7,height:(b=h)!=null?b:268,onSelect:l,selectedEmoji:o,topSection:p,xstyle:(n=a)!=null?n:j.emojiContainer})}if(((h=m.emoji_search_query)==null?void 0:h.responses)==null)return null;b=m.emoji_search_query.responses.map(function(a){return{codepoints:a.split("").map(function(b,c){return a.codePointAt(c)}),id:a}});return i.jsx("div",{className:c("stylex")((p=a)!=null?p:j.emojiContainer),children:i.jsx(c("CometEmojiGrid.react"),{columns:(n=g)!=null?n:7,emojiCollection:b,emojiSize:e,emojiSpacing:f,onClick:l,selectedEmoji:o})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEmojiPickerWithSearch.bs",["fbt","ix","CometColumn.react","CometColumnItem.react","CometEmojiPickerSearchResults.react","CometProgressIndicator.react","CometRoundedTextInput.react","MWChatEmojiCategorySelector.bs","MWIcon.react","MWPBumpEntityKey","MWV2ComposerEmojiPickerHook","TetraCircleButton.react","bs_belt_Option","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={emojiInner:{height:"xo4zgqt",$$css:!0},emojiPicker:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},emojiPickerContainer:{paddingTop:"xz9dl7a",width:"xj6ak53",$$css:!0},emojiPickerContainerSmall:{paddingTop:"xexx8yu",width:"xlro9se",$$css:!0},emojiSearch:{marginBottom:"x12nagc",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},loader:{height:"x5yr21d",$$css:!0},topSection:{alignItems:"xuk3077",display:"x78zum5",flexDirection:"xdt5ytf",marginStart:"xrzrlj5",width:"xh8yej3",$$css:!0}};function l(a){var b=a.searchQuery,e=a.setSearchQuery;a=h._("__JHASH__9_B0HYy73CK__JHASH__");a={autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:!0,icon:j.jsx(c("MWIcon.react"),{color:"tertiary",icon:d("fbicon")._(i("491282"),16),size:16}),label:a,onChange:function(a){a=a.target.value;var b=a==null?"":a;return c("bs_curry")._1(e,function(){return b})},placeholder:a,spellCheck:!1,value:b};b=b.length!==0?c("bs_caml_option").some(j.jsx(c("TetraCircleButton.react"),{color:"tertiary",icon:d("fbicon")._(i("478232"),16),label:h._("__JHASH__04yVFCps0C___JHASH__"),onPress:function(){return c("bs_curry")._1(e,function(){return""})},size:24})):void 0;b!=null&&(a.addOnEnd=c("bs_caml_option").valFromOption(b));return j.jsx("div",{className:"x12nagc xurb0ha x1sxyh0",children:j.jsx(c("CometRoundedTextInput.react"),babelHelpers["extends"]({},a))})}l.displayName=l.name+" [from "+f.id+"]";b={make:l};function a(a){var b=a.onSelect,e=a.selectedEmoji,f=a.gridColumns;a=a.topSection;f=f!=null?f:8;a=a!=null?c("bs_caml_option").valFromOption(a):null;var g=j.useState(function(){return""}),h=g[0],i=c("MWV2ComposerEmojiPickerHook")(h);return j.jsxs("div",{className:""+(f===8?" xz9dl7a xj6ak53":" xexx8yu xlro9se"),children:[j.jsx(l,{searchQuery:h,setSearchQuery:g[1]}),j.jsx("div",{className:"xo4zgqt",role:"grid",children:j.jsx(j.Suspense,{fallback:j.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",xstyle:[k.loader],children:j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("CometProgressIndicator.react"),{})})}),children:j.jsx(c("CometEmojiPickerSearchResults.react"),{categorySelector:d("MWChatEmojiCategorySelector.bs").make,gridColumns:f,height:265,onSelect:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.reactions",h.trim()===""?"select_reaction":"select_reaction.search");return b(a)},query:i,searchQuery:h,selected:c("bs_belt_Option").getWithDefault(e,""),topSection:a,xstyle:k.emojiPicker})})})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.EmojiSearch=b;g.make=e}),98);
__d("UnicodeUtils.bs",["UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("UnicodeUtils").getCodePoints(a)}g.getCodePoints=a}),98);
__d("MWChatEmojiPicker.bs",["fbt","CometEmojiGrid.react","CometEmojiPicker.react","CometFocusTable.react","CometLazyDialogTrigger.react","CometPopover.react","CometPressable.react","I64","Int64Hooks","JSResource","MWChatEmojiCategorySelector.bs","MWChatEmojiPickerWithSearch.bs","MWChatMessageId.bs","MWPBumpEntityKey","MWText.react","UnicodeUtils.bs","bs_belt_Option","bs_caml_option","bs_curry","gkx","qex","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWChatCustomReactionsLog.bs").__setRef("MWChatEmojiPicker.bs"),k={customizeButton:{marginEnd:"x1ffeobu",marginTop:"x1k70j0n",zIndex:"x1vjfegm",$$css:!0},customizeButtonContainer:{marginBottom:"xccbga4",$$css:!0},customizeButtonContainerSearch:{display:"x78zum5",justifyContent:"x13a6bvl",left:"xu96u03",marginTop:"x1kgmq87",position:"x10l6tqk",right:"x3m8u43",$$css:!0},customizeButtonSearch:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0},emojiPicker:{paddingStart:"x1e558r4",$$css:!0},emojiPickerContainer:{paddingTop:"x889kno",width:"xlro9se",$$css:!0},topSection:{alignItems:"xuk3077",display:"x78zum5",flexDirection:"xdt5ytf",marginStart:"xrzrlj5",width:"xh8yej3",$$css:!0}},l=c("gkx")("467"),m=c("bs_belt_Option").getWithDefault(c("bs_caml_option").nullable_to_opt(c("qex")._("650")),!1);function n(a){var b=a.messageID,e=a.onSelect,f=a.reactions,g=a.selectedEmoji,n=a.threadKey,o=i.useMemo(function(){return f.map(function(a){return{codepoints:d("UnicodeUtils.bs").getCodePoints(a.emoji),id:d("I64").to_string(a.emojiIdx)}})},[f]),p=d("Int64Hooks").useCallbackInt64(function(){j.onReady(function(a){return c("bs_curry")._2(a.logEnterCustomizeFlow,b,n)})},[n,b]);i.useRef(null);a=d("Int64Hooks").useMemoInt64(function(){var a={columns:6,emojiCollection:o,emojiSize:m?30:28,emojiSpacing:m?2:4,label:h._("__JHASH__kJyxemnI5ZP__JHASH__"),onClick:function(a,b,c){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.reactions","select_reaction.quick");return e(a,0,0)}};g!=null&&(a.selectedEmoji=g);return i.jsxs("div",{className:c("stylex")(m?!1:k.topSection),children:[l?i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{messageID:b,onClose:function(){},reactions:f,threadKey:n},dialogResource:c("JSResource")("MWChatCustomizeReactionsDialog").__setRef("MWChatEmojiPicker.bs"),children:function(a){return i.jsx(d("CometFocusTable.react").CometFocusRow,{role:"row",children:i.jsx(d("CometFocusTable.react").CometFocusCell,{children:i.jsx("div",{className:""+(m?" x78zum5 x13a6bvl xu96u03 x1kgmq87 x10l6tqk x3m8u43":" xccbga4"),children:i.jsx(c("CometPressable.react"),{onPress:function(b){c("bs_curry")._1(a);return c("bs_curry")._1(p)},testid:void 0,xstyle:function(){return[m?k.customizeButtonSearch:k.customizeButton]},children:i.jsx(c("MWText.react"),{type:"bodyLink4",children:h._("__JHASH__BBwala8AXtL__JHASH__")})})})})})}}):null,i.jsx(c("CometEmojiGrid.react"),babelHelpers["extends"]({},a),"your-reactions-grid")]})},[o,e,g,l,b,f,p,n]);var q;if(m)q=i.jsx(d("MWChatEmojiPickerWithSearch.bs").make,{gridColumns:6,onSelect:function(a,b,c){return e(a,0,0)},selectedEmoji:g,topSection:a});else{a={categorySelector:d("MWChatEmojiCategorySelector.bs").make,emojiSize:28,emojiSpacing:4,gridColumns:6,height:305,onSelect:function(a,b,c){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.reactions","select_reaction");return e(a,0,0)},topSection:a,xstyle:k.emojiPicker};g!=null&&(a.selectedEmoji=g);q=i.jsx(c("CometEmojiPicker.react"),babelHelpers["extends"]({},a))}return i.jsx(c("CometPopover.react"),{testid:void 0,withArrow:!0,children:i.jsx("div",{className:"x889kno xlro9se",children:q})})}n.displayName=n.name+" [from "+f.id+"]";b={make:n};function a(a){var b=a.messageID,c=a.onSelect,e=a.reactions;a=a.selectedEmoji;var f=d("MWChatMessageId.bs").getMessageId(b);b=d("MWChatMessageId.bs").getThreadId(b);if(f!=null&&b!=null)return i.jsx(n,{messageID:f,onSelect:c,reactions:e,selectedEmoji:a,threadKey:b});else return null}e=a;g.withCustomReactions=l;g.withSearch=m;g.MWChatEmojiPickerInner=b;g.make=e}),98);
__d("MWChatReactionsMenu.react",["fbt","ix","CometPressable.react","EmojiRenderer","FocusRegion.react","I64","KeyCommandHandler.react","LSEmojiSetsType","LSIntEnum","MAWGating","MWChatEmojiPicker.bs","MWChatMessageBothOrientationFocusGroup.bs","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWMessageCellFocusTable.bs","MWPBumpEntityKey","ReQL","ReQLSuspense","TetraCircleButton.react","cr:4708","fbicon","focusScopeQueries","gkx","react","recoverableViolation","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useCallback,l=e.useMemo,m={item:{display:"x1rg5ohu",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},menu:{backgroundColor:"x2bj2ny",borderTop:"x6umtig",borderEnd:"x1b1mbwd",borderBottom:"xaqea5y",borderStart:"xav7gou",borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6",boxShadow:"x104qc98",display:"x78zum5",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},selected:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1lq0und",borderTopEndRadius:"x904243",borderBottomEndRadius:"xunswzr",borderBottomStartRadius:"x1hba98",$$css:!0}},n=c("gkx")("467")||c("gkx")("4428"),o=c("gkx")("4428");function p(a,b){var e=c("useReStore")(),f=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(e.table("emoji_sets")).filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED))})},[e]),g=l(function(){return f.sort(function(a,b){return d("I64").compare(a.sortKey,b.sortKey)}).reduce(function(a,b){var c=b.emoji;if(c!==void 0)return a.concat([{categoryIdx:b.categoryIdx,emoji:c,emojiIdx:b.emojiIdx,sortKey:b.sortKey,type_:b.type_}]);else return a},[])},[f]),h=g.length===d("MWChatReactionsUtils.bs").cUSTOM_REACTIONS_NUM;if(c("gkx")("8026")&&b===!0)return d("MWChatReactionsUtils.bs").defaultCustomizableReactions;if(a)if(h)return g;else return d("MWChatReactionsUtils.bs").defaultCustomizableReactions;else return d("MWChatReactionsUtils.bs").defaultStaticReactions}function q(a){var e=a.emoji,f=a.onSelect,g=a.selected;a=c("useMWInboxPassiveContext")();var h=a.setIsPassive;a=l(function(){return d("EmojiRenderer").parse(e).map(function(a){return a.emoji})},[e]);if(a.length!==1){c("recoverableViolation")("Unable to parse reaction emoji "+e,"messenger_comet");return null}a=a[0];a=j.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:j.jsx(c("CometPressable.react"),{onPress:function(){c("gkx")("6531")&&h(!1);return f()},overlayDisabled:!0,role:"menuitem",xstyle:function(){return[m.item,g?m.selected:!1]},children:b("cr:4708")==null?j.jsx(d("MWChatReactionEmoji.bs").make,{emoji:a,size:32,testid:void 0}):j.jsx(b("cr:4708"),{emoji:a,hasTooltip:!0,size:32,testid:void 0})})});return j.jsx(d("MWChatMessageBothOrientationFocusGroup.bs").FocusGroupItem,{children:a})}q.displayName=q.name+" [from "+f.id+"]";var r=[];function a(a){var b=a.closeActionsMenu,e=a.disableCustomReactions,f=a.isBroadcastThread,g=a.isSecure,l=a.messageID,m=a.onClose,s=a.onSelect,t=a.selectedReaction,u=a.setShowEmojiPicker,v=a.showEmojiPicker;a=g!==void 0?g:!1;g=e!==void 0?e:!1;e=h._("__JHASH__plktFYNJzZQ__JHASH__");a=a?d("MAWGating").isCustomReactionsEnabled()&&n:n&&!g;g=p(a,f);f=k(function(a){var c=a.key;c==="Escape"?b():(!v&&(c==="ArrowUp"||c==="ArrowDown")||c==="ArrowLeft"||c==="ArrowRight"||c==="PageUp"||c==="PageDown"||c==="Home"||c==="End")&&a.stopPropagation()},[b,v]);var w=j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("483767"),12),label:h._("__JHASH__rcFhvEPmBgd__JHASH__"),onPress:function(){return u(function(a){return!a})},size:36,testid:void 0,type:"normal"}),x=k(function(a){a=a.reduce(function(a,b){b=String.fromCodePoint(b);var c=a[a.length-1];(c==null||!c.includes(b))&&a.push(b);return a},[]);s(a.join(""));m()},[s,m]);l=v?j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx(d("MWChatEmojiPicker.bs").make,{messageID:l,onSelect:x,reactions:o?r:g,selectedEmoji:t})}):j.jsx("div",{"aria-label":e,"aria-orientation":"horizontal",className:"x2bj2ny x6umtig x1b1mbwd xaqea5y xav7gou x1z11no5 xjy5m1g x1mnwbp6 x4pb5v6 x104qc98 x78zum5 x1ye3gou xn6708d x1y1aw1k xwib8y2",role:"menu",children:g.map(function(a){var b=a.emoji;return j.jsx(q,{emoji:b,onSelect:function(){s(b),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.reactions","select_reaction.quick"),m()},selected:t===b},b)}).concat([a?j.jsx(d("MWChatMessageBothOrientationFocusGroup.bs").FocusGroupItem,{children:w},"plus-button"):null])});return j.jsx(d("MWChatMessageBothOrientationFocusGroup.bs").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx(c("KeyCommandHandler.react"),{onKeyDown:f,children:l})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEmojiPickerWithSearch.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometEmojiPickerSearchResults.react","CometPlaceholder.react","CometPopover.react","CometProgressIndicator.react","CometRoundedTextInput.react","MWChatEmojiCategorySelector.bs","MWIcon.react","MWV2ComposerEmojiPickerHook","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l={emojiInner:{height:"xo4zgqt",$$css:!0},emojiPicker:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},emojiPickerContainer:{paddingTop:"xz9dl7a",width:"xj6ak53",$$css:!0},emojiSearch:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},loader:{height:"x5yr21d",$$css:!0}};function m(a){var b=a.searchQuery,e=a.setSearchQuery;a=h._("__JHASH__Mmd09neoU2L__JHASH__");return j.jsx("div",{className:"xurb0ha x1sxyh0",children:j.jsx(c("CometRoundedTextInput.react"),{addOnEnd:b.length!==0?j.jsx(c("TetraCircleButton.react"),{color:"tertiary",icon:d("fbicon")._(i("478232"),16),label:h._("__JHASH__8w2cbvz0cLR__JHASH__"),onPress:function(){e("")},size:24}):void 0,autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:!0,icon:j.jsx(c("MWIcon.react"),{color:"tertiary",icon:d("fbicon")._(i("491282"),16),size:16}),label:a,onChange:function(a){return e((a=a.target.value)!=null?a:"")},placeholder:a,spellCheck:!1,value:b})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.onSelect;a=a.searchQuery;var e=c("MWV2ComposerEmojiPickerHook")(a);return j.jsx(c("CometEmojiPickerSearchResults.react"),{categorySelector:d("MWChatEmojiCategorySelector.bs").make,gridColumns:8,height:265,onSelect:function(a){return b(a.reduce(function(a,b){b=String.fromCodePoint(b);var c=a[a.length-1];(c==null||!c.includes(b))&&a.push(b);return a},[]).map(function(a){return a.codePointAt(0)}).filter(function(a){return a!=null}))},query:e,searchQuery:a,xstyle:l.emojiPicker})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.onSelect;a=a.withArrow;var d=k(function(){return""}),e=d[0];d=d[1];return j.jsx(c("CometPopover.react"),{withArrow:a,children:j.jsxs("div",{className:"xz9dl7a xj6ak53",children:[j.jsx(m,{searchQuery:e,setSearchQuery:d}),j.jsx("div",{className:"xo4zgqt",role:"grid",children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",xstyle:l.loader,children:j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("CometProgressIndicator.react"),{})})}),children:j.jsx(n,{onSelect:b,searchQuery:e})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEmojiPickerForJSResource",["MWV2ComposerEmojiPickerWithSearch.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MWV2ComposerEmojiPickerWithSearch.react")}),98);
__d("CometAddEmojiToComposerForLexical.bs",["cometAddEmojiToComposerForLexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){c("cometAddEmojiToComposerForLexical")(a,b,d)}g.make=a}),98);