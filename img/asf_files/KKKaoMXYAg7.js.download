;/*FB_PKG_DELIM*/

__d("CometUFISummaryAndActions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"canShowSeenState"},{defaultValue:null,kind:"LocalArgument",name:"focusCommentID"}],kind:"Fragment",metadata:null,name:"CometUFISummaryAndActions_feedback",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["DefaultCometUFISummaryAndActionsRenderer","LiveVideoCometUFISummaryAndActionsRenderer","UnauthenticatedUCometUFISummaryAndActionsRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_ufi_summary_and_actions_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFIDefaultSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"DefaultCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFILiveVideoSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"LiveVideoCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUnauthenticatedUFISummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"UnauthenticatedUCometUFISummaryAndActionsRenderer",abstractKey:null}],storageKey:'comet_ufi_summary_and_actions_renderer(supported:["DefaultCometUFISummaryAndActionsRenderer","LiveVideoCometUFISummaryAndActionsRenderer","UnauthenticatedUCometUFISummaryAndActionsRenderer"])'}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFISummaryAndActions_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFISummaryAndActions_shareable",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIDefaultSummaryAndActionsRenderer_shareable"},{args:null,kind:"FragmentSpread",name:"CometUFILiveVideoSummaryAndActionsRenderer_shareable"},{args:null,kind:"FragmentSpread",name:"CometUnauthenticatedUFISummaryAndActionsRenderer_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometUFISummaryAndActions_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFISummaryAndActions_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIDefaultSummaryAndActionsRenderer_story"},{args:null,kind:"FragmentSpread",name:"CometUFILiveVideoSummaryAndActionsRenderer_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_moderation_filter_restriction_notice",plural:!1,selections:[{args:null,documentName:"CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback",fragmentName:"CometUFICommentModerationFilterSetNotice_moderationFilter",fragmentPropName:"moderationFilter",kind:"ModuleImport"}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("useCometHandleCommitCommentCreate_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometHandleCommitCommentCreate_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFISummaryAndActions.react",["CometRelay","CometUFISummaryAndActions_feedback.graphql","CometUFISummaryAndActions_shareable.graphql","CometUFISummaryAndActions_story.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("react");function a(a,c){var e=a.feedback,f=a.shareable,g=a.story;a=babelHelpers.objectWithoutPropertiesLoose(a,["feedback","shareable","story"]);e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFISummaryAndActions_feedback.graphql"),e);f=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFISummaryAndActions_shareable.graphql"),f);g=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFISummaryAndActions_story.graphql"),g);a=babelHelpers["extends"]({},a,{feedback:e,ref:c,shareable:f,story:g});return k.jsx("div",{"data-testid":void 0,children:k.jsx(d("CometRelay").MatchContainer,{match:e.comet_ufi_summary_and_actions_renderer,props:a})})}a.displayName=a.name+" [from "+f.id+"]";c=k.forwardRef(a);g["default"]=c}),98);
__d("CometChooseWhoCanCommentRetrictionNoticeWrapper.react",["CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c,e=a.feedback,f=a.shouldShowBottomBorder;a=a.shouldShowTopBorder;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback.graphql"),e);c=e==null?void 0:(c=e.owning_profile)==null?void 0:c.id;return i.jsx(d("CometRelay").MatchContainer,{match:e==null?void 0:e.comment_moderation_filter_restriction_notice,props:{ownerID:c,shouldShowBottomBorder:f,shouldShowTopBorder:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIConversationGuideLoggingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({callerID:"",defaultValue:!0,guideShown:null,sessionID:null,setGuideShown:function(){}});g["default"]=b}),98);
__d("CometUFIConversationGuideLoggingProvider.react",["CometUFIConversationGuideLoggingContext","react","useUnsafeRef_DEPRECATED","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useState;function a(a){var b=a.callerID;a=a.children;var d=k(null),e=d[0],f=d[1],g=c("useUnsafeRef_DEPRECATED")(c("uuid")());d=i(c("CometUFIConversationGuideLoggingContext"));var l=d.defaultValue,m=d.guideShown,n=d.sessionID,o=d.setGuideShown;d=j(function(){return{callerID:b,defaultValue:!1,guideShown:l?e:m,sessionID:l?g.current:n,setGuideShown:l?f:o}},[b,l,e,m,n,o]);return h.jsx(c("CometUFIConversationGuideLoggingContext").Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ConversationGuideSuggestionSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2132");b=d("FalcoLoggerInternal").create("conversation_guide_suggestion_selected",a);e=b;g["default"]=e}),98);
__d("ConversationGuideSuggestionVpvFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2133");b=d("FalcoLoggerInternal").create("conversation_guide_suggestion_vpv",a);e=b;g["default"]=e}),98);
__d("CometUFIConversationGuideUtils",["ConversationGuideSuggestionSelectedFalcoEvent","ConversationGuideSuggestionVpvFalcoEvent","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";d="comet_above_composer";var h={surface:"comment_composer"};function a(a){c("ConversationGuideSuggestionSelectedFalcoEvent").log(function(){return i(a)})}function b(a){c("ConversationGuideSuggestionVpvFalcoEvent").log(function(){return i(a)})}function i(a){var b=a.callerID,d=a.feedbackID,e=a.id,f=a.index,g=a.sessionID;a=a.suggestionType;if(g==null){var i=c("FBLogger")("conversation_guide");i.mustfix("Logged Comet Conversation Guide event without specifying session ID")}return babelHelpers["extends"]({caller_id:b,feedback_id:d,session_id:g,suggestion_id:e,suggestion_index:f.toString(),suggestion_type:a},h)}g.CALLER_ID=d;g.COMMON_LOGGING_VALUES=h;g.logSuggestionSelected=a;g.logSuggestionImpression=b}),98);
__d("useCometCommunityAwardAsCommentQPLLogger",["$InternalEnum","QPLUserFlow","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef,i=b("$InternalEnum")({SELECT_AWARD:"select_award",DESELECT_AWARD:"deselect_award",SEND_AWARD_WITH_COMMENT:"send_award_with_comment",SEND_AWARD_WITHOUT_COMMENT:"send_award_without_comment"}),j=c("qpl")._(617550016,"959");function a(){var a=h(!1),b=function(b,d){b===i.SELECT_AWARD&&(a.current=!0),c("QPLUserFlow").addPoint(j,b,{data:{string_array:{award_types:d.awardTypes}}})},d=function(){a.current===!1&&c("QPLUserFlow").endCancel(j)},e=function(){c("QPLUserFlow").endFailure(j,"send_award_mutation_failure")},f=function(){c("QPLUserFlow").endSuccess(j)},g=function(a){c("QPLUserFlow").start(j,{annotations:{string:{content_id:a.contentID,content_type:a.contentType,trigger_source:a.triggerSource},string_array:{previous_awards_from_viewer:a.previousAwardsFromViewer}}})};return{addPoint:b,endCancel:d,endFailure:e,endSuccess:f,start:g}}g.CommunityAwardAsCommentQPLPointName=i;g.useCometCommunityAwardAsCommentQPLLogger=a}),98);
__d("useCometHandleCommitCommentCreate.react",["CometRelay","CometUFICommentListenersContext","CometUFIConversationGuideLoggingContext","CometUFIConversationGuideUtils","CometUFIQPLInstanceKeyContext","RelayUFI2CommentsKeyContext","react","requireDeferred","useCometCommunityAwardAsCommentQPLLogger","useCometHandleCommitCommentCreate_feedback.graphql","useMinifiedProductAttribution","useTrackingCodeFnForComet","useTriggerAccessibilityAlert","useTriggeredStoryCTAHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useContext,k=e.useMemo,l=e.useRef,m=c("requireDeferred")("CometUFICreateCommentMutation").__setRef("useCometHandleCommitCommentCreate.react"),n=c("requireDeferred")("CometUFIFunnelLogger").__setRef("useCometHandleCommitCommentCreate.react");function a(a){var e=a.feedbackRef,f=a.feedLocation,g=a.focusCommentID,o=a.inlineReplyParentID,p=a.onCommit,q=a.playAwardGivenAnimation,r=a.referringFeedLocation,s=a.setError,t=a.setLocallyComposedCommentIds,u=a.storyID;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometHandleCommitCommentCreate_feedback.graphql"),e);var v=a==null?void 0:a.id;e=j(d("CometUFICommentListenersContext").CometUFICommentListenersContext);var w=e.getEmitter,x=e.isInitialized,y=l(null),z=c("useTriggerAccessibilityAlert")();a=c("useTriggeredStoryCTAHandler")();var A=a[0],B=j(c("RelayUFI2CommentsKeyContext")),C=c("useTrackingCodeFnForComet")(),D=c("useMinifiedProductAttribution")(),E=j(c("CometUFIQPLInstanceKeyContext"));e=j(c("CometUFIConversationGuideLoggingContext"));var F=e.guideShown,G=e.sessionID,H=k(function(){return{assistant_caller:d("CometUFIConversationGuideUtils").CALLER_ID,conversation_guide_session_id:G,conversation_guide_shown:F}},[F,G]),I=d("useCometCommunityAwardAsCommentQPLLogger").useCometCommunityAwardAsCommentQPLLogger(),J=i(function(a){var b;n.onReady(function(a){return a.addPoint(E,a.CometUFIFunnelLoggerEvents.COMMENT_CREATE_SUCCESS)});b=(b=a.comment_create)==null?void 0:(b=b.feedback_comment_edge)==null?void 0:(b=b.node)==null?void 0:b.id;a=(a=a.comment_create)==null?void 0:(a=a.feedback_comment_edge)==null?void 0:(a=a.node)==null?void 0:a.fishbowl_comment_ordering_mode;var c=y.current;c&&a&&c.onOptionChange(a);if(v==null||b==null||!x)return;w(v,f).emit("comment_create",v,b)},[x,f,v,w,E]),K=i(function(a){n.onReady(function(a){return a.addPoint(E,a.CometUFIFunnelLoggerEvents.COMMENT_CREATE_ERROR)}),s(a)},[E,s]);return i(function(a){var b=a.actorID,c=a.clientID,d=a.commentData,e=a.entitiesByID,h=a.environment,i=a.feedbackSource,j=a.getTrackingDataFn,k=a.topLevelFeedbackID,l=a.topLevelViewOption,n=a.updater,s=a.viewOption;if(!d)return;(s==="FISHBOWL_GUESTS"||l==="FISHBOWL_GUESTS")&&(d.privacy_type="SPOTLIGHT_TAB");A("COMMENT");a=C(j);j=a.tracking||[];j=[].concat(j,[JSON.stringify(H)]);var v=babelHelpers["extends"]({},a,{tracking:j});m.onReadyImmediately(function(a){t(function(a){return a.has(c)?a:new Set(a).add(c)}),p&&p(),a.commit({UFI2CommentsProvider_commentsKey:B,actorID:b,awardsQPLLogger:I,clientID:c,entitiesByID:e,environment:h,feedbackSource:i,feedLocation:f,focusCommentID:g,inlineReplyParentID:o,input:babelHelpers["extends"]({},d,{attribution_id_v2:D},v),onCompleted:J,onError:K,playAwardGivenAnimation:q,referringFeedLocation:r,storyID:u,topLevelFeedbackId:k,topLevelViewOption:l,triggerAccessibilityAlert:z,updater:n,useDefaultActor:!1,viewOption:s})})},[A,C,H,t,p,B,f,g,D,J,K,u,z])}g["default"]=a}),98);